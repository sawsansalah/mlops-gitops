# Garage minimal config for kind + LMDB + Ingress

garage:
  dbEngine: "lmdb"
  replicationFactor: "1"
  blockSize: "1048576"
  consistencyMode: "consistent"
  compressionLevel: "1"

deployment:
  kind: StatefulSet
  replicaCount: 1
  podManagementPolicy: OrderedReady

persistence:
  enabled: false  # key: emptyDir will be used internally

image:
  repository: dxflrs/amd64_garage
  tag: ""  # use chart default
  pullPolicy: IfNotPresent

serviceAccount:
  create: true

service:
  type: ClusterIP
  s3:
    api:
      port: 3900
    web:
      port: 3902

ingress:
  s3:
    api:
      enabled: true
      annotations:
        kubernetes.io/ingress.class: "nginx"
      hosts:
        - host: "s3.garage.local"
          paths:
            - path: /
              pathType: Prefix
      tls: []

  web:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: "nginx"
    hosts:
      - host: "web.garage.local"
        paths:
          - path: /
            pathType: Prefix
    tls: []

monitoring:
  metrics:
    enabled: false
  tracing:
    sink: ""
  grafanaDashboard:
    enabled: false
